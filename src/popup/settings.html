<!DOCTYPE html>
<html data-qwen-theme="apple">
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="../styles/apple.css">
  <style>
    html { height: 100%; background: var(--qwen-bg, rgba(28,28,30,0.7)); }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      margin: 0;
      padding: 1rem;
      color: var(--qwen-text, #f5f5f7);
    }
    .tabs { display: flex; gap: 0.5rem; margin-bottom: 0.5rem; }
    .tabs button {
      background: none;
      border: 1px solid var(--qwen-border, rgba(255,255,255,0.2));
      color: inherit;
      padding: 0.25rem 0.5rem;
      cursor: pointer;
    }
    .tabs button.active { background: var(--qwen-secondary-bg, rgba(118,118,128,0.2)); }
    .tab { display: none; }
    .tab.active { display: block; }
    label { display: block; margin-bottom: 0.5rem; }
    input[type="number"] { width: 5rem; }
    textarea { width: 100%; }
    .invalid { border-color: #ff4d4f; }
    .note { font-size: 0.8rem; opacity: 0.8; }
    .provider-card { display: flex; align-items: center; gap: 0.5rem; padding: 0.25rem; border: 1px solid var(--qwen-border, rgba(255,255,255,0.2)); margin-bottom: 0.25rem; }
    .provider-card .drag-handle { cursor: move; }
  </style>
</head>
<body>
  <div class="tabs">
    <button data-tab="general">General</button>
    <button data-tab="providers">Providers</button>
    <button data-tab="advanced">Advanced</button>
    <button data-tab="diagnostics">Diagnostics</button>
  </div>

  <div id="generalTab" class="tab">
    <section id="detectionSection">
      <h3>Language Detection</h3>
      <label><input type="checkbox" id="enableDetection"> Enable automatic detection</label>
      <p class="note">Automatically detect the source language before translating.</p>
    </section>
    <section id="glossarySection">
      <h3>Glossary</h3>
      <textarea id="glossary" rows="4" placeholder="term=translation"></textarea>
      <p class="note">One entry per line, using "term=translation".</p>
    </section>

    <section id="selectionSection">
      <h3>Selection Translation</h3>
      <label><input type="checkbox" id="selectionPopup"> Show bubble on text selection</label>
      <p class="note">Bubble waits for you to trigger translation.</p>
    </section>

  </div>

  <div id="providersTab" class="tab">
    <section id="providerSection">
      <h3>Providers</h3>
      <div id="providerList" class="provider-cards"></div>
      <button id="addProvider">Add Provider</button>
    </section>
  </div>

  <div id="advancedTab" class="tab">
    <section id="cacheSection">
      <h3>Cache</h3>
      <label><input type="checkbox" id="cacheEnabled"> Enable translation memory</label>
      <button id="clearCache">Clear cache</button>
    </section>
  </div>

  <div id="diagnosticsTab" class="tab">
    <section id="statsDetails">
      <h3>Usage</h3>
      <pre id="usageStats">-</pre>
    </section>
  </div>

  <script src="../lib/providers.js"></script>
  <script src="../providerConfig.js"></script>
  <script src="../providers/qwen.js"></script>
  <script src="../providers/dashscope.js"></script>
  <script src="../providers/google.js"></script>
  <script src="../providers/deepl.js"></script>
  <script src="../providers/macos.js"></script>
  <script src="../providers/mistral.js"></script>
  <script src="../providers/openai.js"></script>
  <script src="../providers/openrouter.js"></script>
  <script src="../providers/ollama.js"></script>
  <script src="../providers/gemini.js"></script>
  <script src="../providers/anthropic.js"></script>
  <script src="../providers/localWasm.js"></script>
  <script src="../providers/index.js"></script>
  <script src="settings.js"></script>
</body>
</html>

