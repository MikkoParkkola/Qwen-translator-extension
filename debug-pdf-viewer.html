<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Debug PDF Viewer</title>
    <style>
        body { font-family: monospace; margin: 20px; }
        .debug { background: #f0f0f0; padding: 10px; margin: 10px 0; white-space: pre-wrap; }
        iframe { width: 100%; height: 400px; border: 1px solid #ccc; }
    </style>
</head>
<body>
    <h1>PDF Viewer Debug</h1>
    
    <h2>Configuration</h2>
    <div class="debug" id="config">
        Checking extension configuration...
    </div>
    
    <h2>PDF Viewer Test</h2>
    <iframe src="src/pdfViewer.html?file=../Bericht_646850130.pdf" id="pdfFrame"></iframe>
    
    <h2>Debug Console</h2>
    <div class="debug" id="debugOutput">
        Check browser console (F12) for detailed coordinate system debug output.
        
        To debug:
        1. Open browser DevTools (F12)
        2. Look at Console tab
        3. Check for debug messages from pdfViewer.js
        4. Look for coordinate transform values
    </div>
    
    <script>
        // Check if we can access the extension configuration
        if (typeof chrome !== 'undefined' && chrome.storage) {
            chrome.storage.sync.get(['apiKey', 'sourceLanguage', 'targetLanguage'], (config) => {
                document.getElementById('config').textContent = 
                    `API Key: ${config.apiKey ? 'Configured' : 'Missing'}\n` +
                    `Source: ${config.sourceLanguage || 'Not set'}\n` +
                    `Target: ${config.targetLanguage || 'Not set'}`;
            });
        } else {
            document.getElementById('config').textContent = 
                'Extension not available. Load this page from extension context or install extension.';
        }
        
        // Monitor iframe load
        document.getElementById('pdfFrame').onload = function() {
            console.log('PDF viewer iframe loaded');
        };
    </script>
</body>
</html>